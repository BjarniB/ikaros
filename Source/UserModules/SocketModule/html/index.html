<HTML>
	<HEAD>
		<TITLE>IKAROS DYNAMIXEL UI INTERACTOR</TITLE>
		<script type="text/javascript"
		src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
		<script src="http://code.highcharts.com/highcharts.js"></script>
		<script src="http://code.highcharts.com/modules/exporting.js"></script>
		<script src="js/draggable-points-master/draggable-points.js"></script>
		<script src="js/graph.js"></script>
		<script src="js/theme/dark.js"></script>

		<link rel="stylesheet" type="text/css" href="style/style.css">


	</HEAD>
	<BODY>
		<div id="container" style="min-width: 728px; height: 400px; margin: 0 auto"></div>

		<script>



			

			// POLL CURVE DATA FROM SERVER
			function getData(){
	

				$.get( "index.php?get=curves", function( data, status) {

					window.alert(data + "\nStatus: " + status);

					var curves = JSON.parse(data);


					var chart = $('#container').highcharts();

					// set min and max values for y axis (0,360)
					chart.yAxis[0].setExtremes(0,360);
					
					for (var i = 0; i < curves.length; i++) {

					
						chart.addSeries({
							name: "servo "+i,
							draggableX: true,
							draggableY: true,
							dragMinY: 0,
							dragMaxY: 360,
							dragMinX: 0,
							type: 'spline'
							
						});

						for (var n = 0; n < curves[i].length; n++) {
							var x = parseFloat(curves[i][n][0]);
							var y = parseFloat(curves[i][n][1]);
							
							var index = chart.series.length-1;


							chart.series[index].addPoint([x, y], true, false);
						}

						
					}



							
				});


			}




  
		</script>
	</head>
	<body>

		
		<!--<input type="text" name="curveName" value="curve name"><button onclick="addCurve()">Add curve</button><br>
		<br>-->
		<br>
		<button class="button" onClick="getData()">Get recorded data</button><br><br>

<button class="button" onClick="play(30,400)">Play</button>
		<br><br>

		Interaction<br>
		<input type="radio" name="interact" value="MOVE" checked>Move points
		<br>
		<input type="radio" name="interact" value="ADD">Add point to  
		<input type="text" name="curveID" value="0">
		

	</BODY>
</HTML>
